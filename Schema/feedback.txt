create table public.feedback (
  id uuid not null default gen_random_uuid (),
  candidate_id uuid not null,
  interview_id uuid not null,
  rating integer not null,
  feedback_text text null,
  created_at timestamp with time zone not null default now(),
  updated_at timestamp with time zone not null default now(),
  constraint feedback_pkey primary key (id),
  constraint feedback_candidate_id_interview_id_key unique (candidate_id, interview_id),
  constraint feedback_rating_check check (
    (
      (rating >= 1)
      and (rating <= 5)
    )
  )
) TABLESPACE pg_default;

create trigger update_feedback_updated_at BEFORE
update on feedback for EACH row
execute FUNCTION update_updated_at_column ();